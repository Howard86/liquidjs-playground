var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;import{C as c,S as l,i,s as u,e as f,t as d,k as h,c as p,a as v,g as m,d as x,n as g,b as y,f as E,F as b,H as w,I as j,G as O,J as S,K as q,h as A,j as P,m as N,o as T,x as I,u as $,v as C,L}from"../chunks/vendor-122da2d3.js";function V(e){const t=k("liquidjs-playground");return null===t?null:t[e]}function J(e,c){const l=k("liquidjs-playground");return null!==l&&D("liquidjs-playground",(i=((e,t)=>{for(var r in t||(t={}))n.call(t,r)&&o(e,r,t[r]);if(s)for(var r of s(t))a.call(t,r)&&o(e,r,t[r]);return e})({},l),t(i,r({[e]:c}))));var i}function k(e){if("undefined"==typeof window)return null;try{const t=window.localStorage.getItem(e);return JSON.parse(t)}catch(t){return console.error(t),null}}function D(e,t){if("undefined"==typeof window)return!1;try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(r){return console.error(r),!1}}const F=function(){null!==k("liquidjs-playground")||D("liquidjs-playground",{});const e=V("context")||{name:"Hello World"},{subscribe:t,set:r}=c(e);return{subscribe:t,updateContext:e=>{r(e),J("context",e)||console.error(`Failed to update context = ${e}`)},reset:()=>r(e)}}();function R(e){let t,r;return{c(){t=f("span"),r=d(e[1]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var n=v(t);r=m(n,e[1]),n.forEach(x),this.h()},h(){y(t,"class","text-green-700")},m(e,s){E(e,t,s),b(t,r)},p(e,t){2&t&&A(r,e[1])},d(e){e&&x(t)}}}function H(e){let t,r;return{c(){t=f("span"),r=d(e[1]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var n=v(t);r=m(n,e[1]),n.forEach(x),this.h()},h(){y(t,"class","text-blue-700")},m(e,s){E(e,t,s),b(t,r)},p(e,t){2&t&&A(r,e[1])},d(e){e&&x(t)}}}function W(e){let t,r;return{c(){t=f("span"),r=d(e[1]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var n=v(t);r=m(n,e[1]),n.forEach(x),this.h()},h(){y(t,"class","text-red-500")},m(e,s){E(e,t,s),b(t,r)},p(e,t){2&t&&A(r,e[1])},d(e){e&&x(t)}}}function X(e){let t,r,s,n,a,o,c,l,i,u,q;function A(e,t){return e[2]?W:e[1]===B?H:R}let P=A(e),N=P(e);return{c(){t=f("div"),r=f("h2"),s=d("Context"),n=h(),a=f("textarea"),o=h(),N.c(),c=h(),l=f("button"),i=d("Save"),this.h()},l(e){t=p(e,"DIV",{class:!0});var u=v(t);r=p(u,"H2",{});var f=v(r);s=m(f,"Context"),f.forEach(x),n=g(u),a=p(u,"TEXTAREA",{class:!0}),v(a).forEach(x),o=g(u),N.l(u),c=g(u),l=p(u,"BUTTON",{});var d=v(l);i=m(d,"Save"),d.forEach(x),u.forEach(x),this.h()},h(){y(a,"class","text-base text-gray-700 border rounded-lg focus:shadow-md"),y(t,"class","inline-flex flex-col items-center")},m(f,d){E(f,t,d),b(t,r),b(r,s),b(t,n),b(t,a),w(a,e[0]),b(t,o),N.m(t,null),b(t,c),b(t,l),b(l,i),u||(q=[j(a,"input",e[4]),j(l,"click",e[3])],u=!0)},p(e,[r]){1&r&&w(a,e[0]),P===(P=A(e))&&N?N.p(e,r):(N.d(1),N=P(e),N&&(N.c(),N.m(t,c)))},i:O,o:O,d(e){e&&x(t),N.d(),u=!1,S(q)}}}const B="Please enter a valid JSON";function U(e,t,r){let s;q(e,F,(e=>r(5,s=e)));let n=JSON.stringify(s,null,2),a=B,o=!1;return[n,a,o,()=>{try{F.updateContext(JSON.parse(n)),r(1,a="Saved!"),r(2,o=!1)}catch(e){console.error(e),r(1,a=e.message),r(2,o=!0)}},function(){n=this.value,r(0,n)}]}class z extends l{constructor(e){super(),i(this,e,U,X,u,{})}}function G(){if("undefined"==typeof window)return null;return new(0,window.liquidjs.Liquid)({cache:!0,strictFilters:!0,strictVariables:!0})}function K(e){let t,r,s,n,a,o,c,l,i,u,O,q,A,L,V,J,k,D,F,R,H,W,X,B,U,G;return J=new z({}),{c(){t=f("div"),r=f("main"),s=f("h1"),n=d("Welcome to Liquidjs Playground"),a=h(),o=f("div"),c=f("textarea"),l=h(),i=f("div"),u=f("button"),O=d("Convert"),q=h(),A=f("textarea"),V=h(),P(J.$$.fragment),k=h(),D=f("footer"),F=f("p"),R=d("Visit "),H=f("a"),W=d("Liquidjs.com"),X=d(" to read more options"),this.h()},l(e){t=p(e,"DIV",{class:!0});var f=v(t);r=p(f,"MAIN",{});var d=v(r);s=p(d,"H1",{class:!0});var h=v(s);n=m(h,"Welcome to Liquidjs Playground"),h.forEach(x),a=g(d),o=p(d,"DIV",{class:!0});var y=v(o);c=p(y,"TEXTAREA",{class:!0,rows:!0}),v(c).forEach(x),l=g(y),i=p(y,"DIV",{class:!0});var E=v(i);u=p(E,"BUTTON",{});var b=v(u);O=m(b,"Convert"),b.forEach(x),E.forEach(x),q=g(y),A=p(y,"TEXTAREA",{class:!0}),v(A).forEach(x),y.forEach(x),V=g(d),N(J.$$.fragment,d),d.forEach(x),k=g(f),D=p(f,"FOOTER",{});var w=v(D);F=p(w,"P",{});var j=v(F);R=m(j,"Visit "),H=p(j,"A",{href:!0});var S=v(H);W=m(S,"Liquidjs.com"),S.forEach(x),X=m(j," to read more options"),j.forEach(x),w.forEach(x),f.forEach(x),this.h()},h(){y(s,"class","p-4"),y(c,"class",e[4]),y(c,"rows","6"),y(i,"class","px-4 self-center"),y(A,"class",L=e[5](e[1])),A.disabled=!0,y(o,"class","flex my-4"),y(H,"href","https://liquidjs.com/filters/overview.html"),y(t,"class","flex flex-col h-full container text-center mx-auto")},m(f,d){E(f,t,d),b(t,r),b(r,s),b(s,n),b(r,a),b(r,o),b(o,c),w(c,e[0]),b(o,l),b(o,i),b(i,u),b(u,O),b(o,q),b(o,A),w(A,e[2]),b(r,V),T(J,r,null),b(t,k),b(t,D),b(D,F),b(F,R),b(F,H),b(H,W),b(F,X),B=!0,U||(G=[j(c,"input",e[6]),j(u,"click",e[3]),j(A,"input",e[7])],U=!0)},p(e,[t]){1&t&&w(c,e[0]),(!B||2&t&&L!==(L=e[5](e[1])))&&y(A,"class",L),4&t&&w(A,e[2])},i(e){B||(I(J.$$.fragment,e),B=!0)},o(e){$(J.$$.fragment,e),B=!1},d(e){e&&x(t),C(J),U=!1,S(G)}}}function M(e,t,r){let s;q(e,F,(e=>r(9,s=e)));let n=G(),a=V("input")||"Your name is {{ name | capitalize }}!",o=!1,c="";const l=L("flex-grow","bg-blue-50");return[a,o,c,async()=>{try{if(null===n){const e=G();if(null===e)throw new Error("Failed to find Liquidjs, please check your internet connection");n=e}r(2,c=await n.parseAndRender(a,s)),function(e){J("input",e)}(a),r(1,o=!1)}catch(e){console.error(e),r(2,c=e),r(1,o=!0)}},l,e=>L(l,"bg-green-50",{"text-red-500":e}),function(){a=this.value,r(0,a)},function(){c=this.value,r(2,c)}]}export default class extends l{constructor(e){super(),i(this,e,M,K,u,{})}}
